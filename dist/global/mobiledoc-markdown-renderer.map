{"version":3,"sources":["loader.js/loader.js","mobiledoc-markdown-renderer/cards/image.js","mobiledoc-markdown-renderer/index.js","mobiledoc-markdown-renderer/renderer-factory.js","mobiledoc-markdown-renderer/renderers/0-2.js","mobiledoc-markdown-renderer/renderers/0-3.js","mobiledoc-markdown-renderer/utils/dom.js","mobiledoc-markdown-renderer/utils/marker-types.js","mobiledoc-markdown-renderer/utils/render-type.js","mobiledoc-markdown-renderer/utils/section-types.js","mobiledoc-markdown-renderer/utils/tag-names.js"],"sourcesContent":["var loader, define, requireModule, require, requirejs;\nvar global = this;\n\n(function() {\n  'use strict';\n\n  // Save off the original values of these globals, so we can restore them if someone asks us to\n  var oldGlobals = {\n    loader: loader,\n    define: define,\n    requireModule: requireModule,\n    require: require,\n    requirejs: requirejs\n  };\n\n  loader = {\n    noConflict: function(aliases) {\n      var oldName, newName;\n\n      for (oldName in aliases) {\n        if (aliases.hasOwnProperty(oldName)) {\n          if (oldGlobals.hasOwnProperty(oldName)) {\n            newName = aliases[oldName];\n\n            global[newName] = global[oldName];\n            global[oldName] = oldGlobals[oldName];\n          }\n        }\n      }\n    }\n  };\n\n  var _isArray;\n  if (!Array.isArray) {\n    _isArray = function (x) {\n      return Object.prototype.toString.call(x) === '[object Array]';\n    };\n  } else {\n    _isArray = Array.isArray;\n  }\n\n  var registry = {};\n  var seen = {};\n  var FAILED = false;\n  var LOADED = true;\n\n  var uuid = 0;\n\n  function unsupportedModule(length) {\n    throw new Error('an unsupported module was defined, expected `define(name, deps, module)` instead got: `' +\n                    length + '` arguments to define`');\n  }\n\n  var defaultDeps = ['require', 'exports', 'module'];\n\n  function Module(name, deps, callback) {\n    this.id        = uuid++;\n    this.name      = name;\n    this.deps      = !deps.length && callback.length ? defaultDeps : deps;\n    this.module    = { exports: {} };\n    this.callback  = callback;\n    this.state     = undefined;\n    this._require  = undefined;\n    this.finalized = false;\n    this.hasExportsAsDep = false;\n  }\n\n  Module.prototype.makeDefaultExport = function() {\n    var exports = this.module.exports;\n    if (exports !== null &&\n        (typeof exports === 'object' || typeof exports === 'function') &&\n          exports['default'] === undefined) {\n      exports['default'] = exports;\n    }\n  };\n\n  Module.prototype.exports = function(reifiedDeps) {\n    if (this.finalized) {\n      return this.module.exports;\n    } else {\n      if (loader.wrapModules) {\n        this.callback = loader.wrapModules(this.name, this.callback);\n      }\n      var result = this.callback.apply(this, reifiedDeps);\n      if (!(this.hasExportsAsDep && result === undefined)) {\n        this.module.exports = result;\n      }\n      this.makeDefaultExport();\n      this.finalized = true;\n      return this.module.exports;\n    }\n  };\n\n  Module.prototype.unsee = function() {\n    this.finalized = false;\n    this.state = undefined;\n    this.module = { exports: {}};\n  };\n\n  Module.prototype.reify = function() {\n    var deps = this.deps;\n    var length = deps.length;\n    var reified = new Array(length);\n    var dep;\n\n    for (var i = 0, l = length; i < l; i++) {\n      dep = deps[i];\n      if (dep === 'exports') {\n        this.hasExportsAsDep = true;\n        reified[i] = this.module.exports;\n      } else if (dep === 'require') {\n        reified[i] = this.makeRequire();\n      } else if (dep === 'module') {\n        reified[i] = this.module;\n      } else {\n        reified[i] = findModule(resolve(dep, this.name), this.name).module.exports;\n      }\n    }\n\n    return reified;\n  };\n\n  Module.prototype.makeRequire = function() {\n    var name = this.name;\n\n    return this._require || (this._require = function(dep) {\n      return require(resolve(dep, name));\n    });\n  };\n\n  Module.prototype.build = function() {\n    if (this.state === FAILED) { return; }\n    this.state = FAILED;\n    this.exports(this.reify());\n    this.state = LOADED;\n  };\n\n  define = function(name, deps, callback) {\n    if (arguments.length < 2) {\n      unsupportedModule(arguments.length);\n    }\n\n    if (!_isArray(deps)) {\n      callback = deps;\n      deps     =  [];\n    }\n\n    registry[name] = new Module(name, deps, callback);\n  };\n\n  // we don't support all of AMD\n  // define.amd = {};\n  // we will support petals...\n  define.petal = { };\n\n  function Alias(path) {\n    this.name = path;\n  }\n\n  define.alias = function(path) {\n    return new Alias(path);\n  };\n\n  function missingModule(name, referrer) {\n    throw new Error('Could not find module `' + name + '` imported from `' + referrer + '`');\n  }\n\n  requirejs = require = requireModule = function(name) {\n    return findModule(name, '(require)').module.exports;\n  };\n\n  function findModule(name, referrer) {\n    var mod = registry[name] || registry[name + '/index'];\n\n    while (mod && mod.callback instanceof Alias) {\n      name = mod.callback.name;\n      mod = registry[name];\n    }\n\n    if (!mod) { missingModule(name, referrer); }\n\n    mod.build();\n    return mod;\n  }\n\n  function resolve(child, name) {\n    if (child.charAt(0) !== '.') { return child; }\n\n    var parts = child.split('/');\n    var nameParts = name.split('/');\n    var parentBase = nameParts.slice(0, -1);\n\n    for (var i = 0, l = parts.length; i < l; i++) {\n      var part = parts[i];\n\n      if (part === '..') {\n        if (parentBase.length === 0) {\n          throw new Error('Cannot access parent module of root');\n        }\n        parentBase.pop();\n      } else if (part === '.') {\n        continue;\n      } else { parentBase.push(part); }\n    }\n\n    return parentBase.join('/');\n  }\n\n  requirejs.entries = requirejs._eak_seen = registry;\n  requirejs.unsee = function(moduleName) {\n    findModule(moduleName, '(unsee)').unsee();\n  };\n\n  requirejs.clear = function() {\n    requirejs.entries = requirejs._eak_seen = registry = {};\n    seen = {};\n  };\n})();\n","define('mobiledoc-markdown-renderer/cards/image', ['exports', 'mobiledoc-markdown-renderer/utils/render-type'], function (exports, _mobiledocMarkdownRendererUtilsRenderType) {\n  'use strict';\n\n  exports['default'] = {\n    name: 'image-card',\n    type: _mobiledocMarkdownRendererUtilsRenderType['default'],\n    render: function render(_ref) {\n      var env = _ref.env;\n      var options = _ref.options;\n      var payload = _ref.payload;\n\n      if (payload.src) {\n        return '![](' + payload.src + ')';\n      }\n    }\n  };\n});","define('mobiledoc-markdown-renderer', ['exports', 'mobiledoc-markdown-renderer/renderer-factory', 'mobiledoc-markdown-renderer/utils/render-type'], function (exports, _mobiledocMarkdownRendererRendererFactory, _mobiledocMarkdownRendererUtilsRenderType) {\n  'use strict';\n\n  exports.registerGlobal = registerGlobal;\n\n  function registerGlobal(window) {\n    window.MobiledocMarkdownRenderer = _mobiledocMarkdownRendererRendererFactory['default'];\n  }\n\n  exports.RENDER_TYPE = _mobiledocMarkdownRendererUtilsRenderType['default'];\n  exports['default'] = _mobiledocMarkdownRendererRendererFactory['default'];\n});","define('mobiledoc-markdown-renderer/renderer-factory', ['exports', 'mobiledoc-markdown-renderer/renderers/0-2', 'mobiledoc-markdown-renderer/renderers/0-3', 'mobiledoc-markdown-renderer/utils/render-type'], function (exports, _mobiledocMarkdownRendererRenderers02, _mobiledocMarkdownRendererRenderers03, _mobiledocMarkdownRendererUtilsRenderType) {\n  'use strict';\n\n  var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n  function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\n  function validateCards(cards) {\n    if (!Array.isArray(cards)) {\n      throw new Error('`cards` must be passed as an array');\n    }\n    for (var i = 0; i < cards.length; i++) {\n      var card = cards[i];\n      if (card.type !== _mobiledocMarkdownRendererUtilsRenderType['default']) {\n        throw new Error('Card \"' + card.name + '\" must be of type \"' + _mobiledocMarkdownRendererUtilsRenderType['default'] + '\", was \"' + card.type + '\"');\n      }\n      if (!card.render) {\n        throw new Error('Card \"' + card.name + '\" must define `render`');\n      }\n    }\n  }\n\n  function validateAtoms(atoms) {\n    if (!Array.isArray(atoms)) {\n      throw new Error('`atoms` must be passed as an array');\n    }\n    for (var i = 0; i < atoms.length; i++) {\n      var atom = atoms[i];\n      if (atom.type !== _mobiledocMarkdownRendererUtilsRenderType['default']) {\n        throw new Error('Atom \"' + atom.name + '\" must be type \"' + _mobiledocMarkdownRendererUtilsRenderType['default'] + '\", was \"' + atom.type + '\"');\n      }\n      if (!atom.render) {\n        throw new Error('Atom \"' + atom.name + '\" must define `render`');\n      }\n    }\n  }\n\n  var RendererFactory = (function () {\n    function RendererFactory() {\n      var _ref = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];\n\n      var cards = _ref.cards;\n      var atoms = _ref.atoms;\n      var cardOptions = _ref.cardOptions;\n      var unknownCardHandler = _ref.unknownCardHandler;\n      var unknownAtomHandler = _ref.unknownAtomHandler;\n      var sectionElementRenderer = _ref.sectionElementRenderer;\n\n      _classCallCheck(this, RendererFactory);\n\n      cards = cards || [];\n      validateCards(cards);\n      atoms = atoms || [];\n      validateAtoms(atoms);\n      cardOptions = cardOptions || {};\n\n      this.state = {\n        cards: cards,\n        atoms: atoms,\n        cardOptions: cardOptions,\n        unknownCardHandler: unknownCardHandler,\n        unknownAtomHandler: unknownAtomHandler,\n        sectionElementRenderer: sectionElementRenderer\n      };\n    }\n\n    _createClass(RendererFactory, [{\n      key: 'render',\n      value: function render(mobiledoc) {\n        var version = mobiledoc.version;\n\n        switch (version) {\n          case _mobiledocMarkdownRendererRenderers02.MOBILEDOC_VERSION:\n          case undefined:\n          case null:\n            return new _mobiledocMarkdownRendererRenderers02['default'](mobiledoc, this.state).render();\n          case _mobiledocMarkdownRendererRenderers03.MOBILEDOC_VERSION:\n            return new _mobiledocMarkdownRendererRenderers03['default'](mobiledoc, this.state).render();\n          default:\n            throw new Error('Unexpected Mobiledoc version \"' + version + '\"');\n        }\n      }\n    }]);\n\n    return RendererFactory;\n  })();\n\n  exports['default'] = RendererFactory;\n});","define('mobiledoc-markdown-renderer/renderers/0-2', ['exports', 'mobiledoc-markdown-renderer/utils/dom', 'mobiledoc-markdown-renderer/cards/image', 'mobiledoc-markdown-renderer/utils/render-type', 'mobiledoc-markdown-renderer/utils/section-types', 'mobiledoc-markdown-renderer/utils/tag-names'], function (exports, _mobiledocMarkdownRendererUtilsDom, _mobiledocMarkdownRendererCardsImage, _mobiledocMarkdownRendererUtilsRenderType, _mobiledocMarkdownRendererUtilsSectionTypes, _mobiledocMarkdownRendererUtilsTagNames) {\n  'use strict';\n\n  var _slicedToArray = (function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i['return']) _i['return'](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError('Invalid attempt to destructure non-iterable instance'); } }; })();\n\n  var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n  function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\n  var MOBILEDOC_VERSION = '0.2.0';\n\n  exports.MOBILEDOC_VERSION = MOBILEDOC_VERSION;\n  /**\n   * runtime Markdown renderer\n   * renders a mobiledoc to Markdown (string)\n   *\n   * input: mobiledoc\n   * output: Markdown (string)\n   */\n\n  function createElementFromMarkerType() {\n    var _ref = arguments.length <= 0 || arguments[0] === undefined ? ['', []] : arguments[0];\n\n    var _ref2 = _slicedToArray(_ref, 2);\n\n    var tagName = _ref2[0];\n    var attributes = _ref2[1];\n\n    var element = (0, _mobiledocMarkdownRendererUtilsDom.createElement)(tagName);\n    attributes = attributes || [];\n\n    for (var i = 0, l = attributes.length; i < l; i = i + 2) {\n      var propName = attributes[i],\n          propValue = attributes[i + 1];\n      (0, _mobiledocMarkdownRendererUtilsDom.setAttribute)(element, propName, propValue);\n    }\n    return element;\n  }\n\n  function validateVersion(version) {\n    if (version !== MOBILEDOC_VERSION) {\n      throw new Error('Unexpected Mobiledoc version \"' + version + '\"');\n    }\n  }\n\n  var Renderer = (function () {\n    function Renderer(mobiledoc, state) {\n      _classCallCheck(this, Renderer);\n\n      var cards = state.cards;\n      var cardOptions = state.cardOptions;\n      var unknownCardHandler = state.unknownCardHandler;\n      var version = mobiledoc.version;\n      var sectionData = mobiledoc.sections;\n\n      validateVersion(version);\n\n      var _sectionData = _slicedToArray(sectionData, 2);\n\n      var markerTypes = _sectionData[0];\n      var sections = _sectionData[1];\n\n      this.root = (0, _mobiledocMarkdownRendererUtilsDom.createDocumentFragment)();\n      this.markerTypes = markerTypes;\n      this.sections = sections;\n      this.cards = cards;\n      this.cardOptions = cardOptions;\n      this.unknownCardHandler = unknownCardHandler || this._defaultUnknownCardHandler;\n\n      this._teardownCallbacks = [];\n    }\n\n    _createClass(Renderer, [{\n      key: 'render',\n      value: function render() {\n        var _this = this;\n\n        this.sections.forEach(function (section) {\n          var rendered = _this.renderSection(section);\n          if (rendered) {\n            (0, _mobiledocMarkdownRendererUtilsDom.appendChild)(_this.root, rendered);\n          }\n        });\n\n        return { result: this.root.toString(), teardown: function teardown() {\n            return _this.teardown();\n          } };\n      }\n    }, {\n      key: 'teardown',\n      value: function teardown() {\n        for (var i = 0; i < this._teardownCallbacks.length; i++) {\n          this._teardownCallbacks[i]();\n        }\n      }\n    }, {\n      key: 'renderSection',\n      value: function renderSection(section) {\n        var _section = _slicedToArray(section, 1);\n\n        var type = _section[0];\n\n        switch (type) {\n          case _mobiledocMarkdownRendererUtilsSectionTypes.MARKUP_SECTION_TYPE:\n            return this.renderMarkupSection(section);\n          case _mobiledocMarkdownRendererUtilsSectionTypes.IMAGE_SECTION_TYPE:\n            return this.renderImageSection(section);\n          case _mobiledocMarkdownRendererUtilsSectionTypes.LIST_SECTION_TYPE:\n            return this.renderListSection(section);\n          case _mobiledocMarkdownRendererUtilsSectionTypes.CARD_SECTION_TYPE:\n            return this.renderCardSection(section);\n          default:\n            throw new Error('Renderer cannot render type \"' + type + '\"');\n        }\n      }\n    }, {\n      key: 'renderListSection',\n      value: function renderListSection(_ref3) {\n        var _this2 = this;\n\n        var _ref32 = _slicedToArray(_ref3, 3);\n\n        var type = _ref32[0];\n        var tagName = _ref32[1];\n        var items = _ref32[2];\n\n        if (!(0, _mobiledocMarkdownRendererUtilsTagNames.isValidSectionTagName)(tagName, _mobiledocMarkdownRendererUtilsSectionTypes.LIST_SECTION_TYPE)) {\n          return;\n        }\n        var element = (0, _mobiledocMarkdownRendererUtilsDom.createElement)(tagName);\n        if (tagName.toLowerCase() === 'ol') {\n          for (var i = 0; i < items.length; i++) {\n            var li = items[i];\n            (0, _mobiledocMarkdownRendererUtilsDom.appendChild)(element, this.renderListItem(li, i + 1));\n          }\n        } else {\n          items.forEach(function (li) {\n            (0, _mobiledocMarkdownRendererUtilsDom.appendChild)(element, _this2.renderListItem(li));\n          });\n        }\n        return element;\n      }\n    }, {\n      key: 'renderListItem',\n      value: function renderListItem(markers) {\n        var position = arguments.length <= 1 || arguments[1] === undefined ? null : arguments[1];\n\n        var element = (0, _mobiledocMarkdownRendererUtilsDom.createElement)('li');\n        if (position !== null) {\n          (0, _mobiledocMarkdownRendererUtilsDom.setAttribute)(element, 'position', position);\n        }\n        this._renderMarkersOnElement(element, markers);\n        return element;\n      }\n    }, {\n      key: 'renderImageSection',\n      value: function renderImageSection(_ref4) {\n        var _ref42 = _slicedToArray(_ref4, 2);\n\n        var type = _ref42[0];\n        var url = _ref42[1];\n\n        var element = (0, _mobiledocMarkdownRendererUtilsDom.createElement)('img');\n        (0, _mobiledocMarkdownRendererUtilsDom.setAttribute)(element, 'src', url);\n        return element;\n      }\n    }, {\n      key: 'findCard',\n      value: function findCard(name) {\n        for (var i = 0; i < this.cards.length; i++) {\n          if (this.cards[i].name === name) {\n            return this.cards[i];\n          }\n        }\n        if (name === _mobiledocMarkdownRendererCardsImage['default'].name) {\n          return _mobiledocMarkdownRendererCardsImage['default'];\n        }\n        return this._createUnknownCard(name);\n      }\n    }, {\n      key: '_createUnknownCard',\n      value: function _createUnknownCard(name) {\n        return {\n          name: name,\n          type: _mobiledocMarkdownRendererUtilsRenderType['default'],\n          render: this.unknownCardHandler\n        };\n      }\n    }, {\n      key: 'renderCardSection',\n      value: function renderCardSection(_ref5) {\n        var _ref52 = _slicedToArray(_ref5, 3);\n\n        var type = _ref52[0];\n        var name = _ref52[1];\n        var payload = _ref52[2];\n\n        var card = this.findCard(name);\n\n        var cardWrapper = this._createCardElement();\n        var cardArg = this._createCardArgument(card, payload);\n        var rendered = card.render(cardArg);\n\n        this._validateCardRender(rendered, card.name);\n\n        if (rendered) {\n          (0, _mobiledocMarkdownRendererUtilsDom.appendChild)(cardWrapper, rendered);\n        }\n\n        return cardWrapper;\n      }\n    }, {\n      key: '_registerTeardownCallback',\n      value: function _registerTeardownCallback(callback) {\n        this._teardownCallbacks.push(callback);\n      }\n    }, {\n      key: '_createCardArgument',\n      value: function _createCardArgument(card) {\n        var _this3 = this;\n\n        var payload = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];\n\n        var env = {\n          name: card.name,\n          isInEditor: false,\n          onTeardown: function onTeardown(callback) {\n            return _this3._registerTeardownCallback(callback);\n          }\n        };\n\n        var options = this.cardOptions;\n\n        return { env: env, options: options, payload: payload };\n      }\n    }, {\n      key: '_validateCardRender',\n      value: function _validateCardRender(rendered, cardName) {\n        if (!rendered) {\n          return;\n        }\n\n        if (typeof rendered !== 'string') {\n          throw new Error('Card \"' + cardName + '\" must render ' + _mobiledocMarkdownRendererUtilsRenderType['default'] + ', but result was ' + typeof rendered + '\"');\n        }\n      }\n    }, {\n      key: '_createCardElement',\n      value: function _createCardElement() {\n        return (0, _mobiledocMarkdownRendererUtilsDom.createElement)('div');\n      }\n    }, {\n      key: 'renderMarkupSection',\n      value: function renderMarkupSection(_ref6) {\n        var _ref62 = _slicedToArray(_ref6, 3);\n\n        var type = _ref62[0];\n        var tagName = _ref62[1];\n        var markers = _ref62[2];\n\n        if (!(0, _mobiledocMarkdownRendererUtilsTagNames.isValidSectionTagName)(tagName, _mobiledocMarkdownRendererUtilsSectionTypes.MARKUP_SECTION_TYPE)) {\n          return;\n        }\n        var renderer = _mobiledocMarkdownRendererUtilsDom.createElement;\n        var element = renderer(tagName);\n        this._renderMarkersOnElement(element, markers);\n        return element;\n      }\n    }, {\n      key: '_renderMarkersOnElement',\n      value: function _renderMarkersOnElement(element, markers) {\n        var elements = [element];\n        var currentElement = element;\n\n        for (var i = 0, l = markers.length; i < l; i++) {\n          var marker = markers[i];\n\n          var _marker = _slicedToArray(marker, 3);\n\n          var openTypes = _marker[0];\n          var closeCount = _marker[1];\n          var text = _marker[2];\n\n          for (var j = 0, m = openTypes.length; j < m; j++) {\n            var markerType = this.markerTypes[openTypes[j]];\n\n            var _markerType = _slicedToArray(markerType, 1);\n\n            var tagName = _markerType[0];\n\n            if ((0, _mobiledocMarkdownRendererUtilsTagNames.isValidMarkerType)(tagName)) {\n              var openedElement = createElementFromMarkerType(markerType);\n              (0, _mobiledocMarkdownRendererUtilsDom.appendChild)(currentElement, openedElement);\n              elements.push(openedElement);\n              currentElement = openedElement;\n            } else {\n              closeCount--;\n            }\n          }\n\n          (0, _mobiledocMarkdownRendererUtilsDom.appendChild)(currentElement, (0, _mobiledocMarkdownRendererUtilsDom.createTextNode)(text));\n\n          for (var j = 0, m = closeCount; j < m; j++) {\n            elements.pop();\n            currentElement = elements[elements.length - 1];\n          }\n        }\n      }\n    }, {\n      key: '_defaultUnknownCardHandler',\n      get: function get() {\n        return function (_ref7) {\n          var name = _ref7.env.name;\n\n          throw new Error('Card \"' + name + '\" not found but no unknownCardHandler was registered');\n        };\n      }\n    }]);\n\n    return Renderer;\n  })();\n\n  exports['default'] = Renderer;\n});","define('mobiledoc-markdown-renderer/renderers/0-3', ['exports', 'mobiledoc-markdown-renderer/utils/dom', 'mobiledoc-markdown-renderer/cards/image', 'mobiledoc-markdown-renderer/utils/render-type', 'mobiledoc-markdown-renderer/utils/section-types', 'mobiledoc-markdown-renderer/utils/tag-names', 'mobiledoc-markdown-renderer/utils/marker-types'], function (exports, _mobiledocMarkdownRendererUtilsDom, _mobiledocMarkdownRendererCardsImage, _mobiledocMarkdownRendererUtilsRenderType, _mobiledocMarkdownRendererUtilsSectionTypes, _mobiledocMarkdownRendererUtilsTagNames, _mobiledocMarkdownRendererUtilsMarkerTypes) {\n  'use strict';\n\n  var _slicedToArray = (function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i['return']) _i['return'](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError('Invalid attempt to destructure non-iterable instance'); } }; })();\n\n  var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n  function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\n  var MOBILEDOC_VERSION = '0.3.0';\n\n  exports.MOBILEDOC_VERSION = MOBILEDOC_VERSION;\n  /**\n   * runtime Markdown renderer\n   * renders a mobiledoc to Markdown (string)\n   *\n   * input: mobiledoc\n   * output: Markdown (string)\n   */\n\n  function createElementFromMarkerType() {\n    var _ref = arguments.length <= 0 || arguments[0] === undefined ? ['', []] : arguments[0];\n\n    var _ref2 = _slicedToArray(_ref, 2);\n\n    var tagName = _ref2[0];\n    var attributes = _ref2[1];\n\n    var element = (0, _mobiledocMarkdownRendererUtilsDom.createElement)(tagName);\n    attributes = attributes || [];\n\n    for (var i = 0, l = attributes.length; i < l; i = i + 2) {\n      var propName = attributes[i],\n          propValue = attributes[i + 1];\n      (0, _mobiledocMarkdownRendererUtilsDom.setAttribute)(element, propName, propValue);\n    }\n    return element;\n  }\n\n  function validateVersion(version) {\n    if (version !== MOBILEDOC_VERSION) {\n      throw new Error('Unexpected Mobiledoc version \"' + version + '\"');\n    }\n  }\n\n  var Renderer = (function () {\n    function Renderer(mobiledoc, state) {\n      _classCallCheck(this, Renderer);\n\n      var cards = state.cards;\n      var cardOptions = state.cardOptions;\n      var atoms = state.atoms;\n      var unknownCardHandler = state.unknownCardHandler;\n      var unknownAtomHandler = state.unknownAtomHandler;\n      var version = mobiledoc.version;\n      var sections = mobiledoc.sections;\n      var atomTypes = mobiledoc.atoms;\n      var cardTypes = mobiledoc.cards;\n      var markerTypes = mobiledoc.markups;\n\n      validateVersion(version);\n\n      this.root = (0, _mobiledocMarkdownRendererUtilsDom.createDocumentFragment)();\n      this.sections = sections;\n      this.atomTypes = atomTypes;\n      this.cardTypes = cardTypes;\n      this.markerTypes = markerTypes;\n      this.cards = cards;\n      this.atoms = atoms;\n      this.cardOptions = cardOptions;\n      this.unknownCardHandler = unknownCardHandler || this._defaultUnknownCardHandler;\n      this.unknownAtomHandler = unknownAtomHandler || this._defaultUnknownAtomHandler;\n\n      this._teardownCallbacks = [];\n    }\n\n    _createClass(Renderer, [{\n      key: 'render',\n      value: function render() {\n        var _this = this;\n\n        this.sections.forEach(function (section) {\n          var rendered = _this.renderSection(section);\n          if (rendered) {\n            (0, _mobiledocMarkdownRendererUtilsDom.appendChild)(_this.root, rendered);\n          }\n        });\n\n        return { result: this.root.toString(), teardown: function teardown() {\n            return _this.teardown();\n          } };\n      }\n    }, {\n      key: 'teardown',\n      value: function teardown() {\n        for (var i = 0; i < this._teardownCallbacks.length; i++) {\n          this._teardownCallbacks[i]();\n        }\n      }\n    }, {\n      key: 'renderSection',\n      value: function renderSection(section) {\n        var _section = _slicedToArray(section, 1);\n\n        var type = _section[0];\n\n        switch (type) {\n          case _mobiledocMarkdownRendererUtilsSectionTypes.MARKUP_SECTION_TYPE:\n            return this.renderMarkupSection(section);\n          case _mobiledocMarkdownRendererUtilsSectionTypes.IMAGE_SECTION_TYPE:\n            return this.renderImageSection(section);\n          case _mobiledocMarkdownRendererUtilsSectionTypes.LIST_SECTION_TYPE:\n            return this.renderListSection(section);\n          case _mobiledocMarkdownRendererUtilsSectionTypes.CARD_SECTION_TYPE:\n            return this.renderCardSection(section);\n          default:\n            throw new Error('Renderer cannot render type \"' + type + '\"');\n        }\n      }\n    }, {\n      key: 'renderListSection',\n      value: function renderListSection(_ref3) {\n        var _this2 = this;\n\n        var _ref32 = _slicedToArray(_ref3, 3);\n\n        var type = _ref32[0];\n        var tagName = _ref32[1];\n        var items = _ref32[2];\n\n        if (!(0, _mobiledocMarkdownRendererUtilsTagNames.isValidSectionTagName)(tagName, _mobiledocMarkdownRendererUtilsSectionTypes.LIST_SECTION_TYPE)) {\n          return;\n        }\n        var element = (0, _mobiledocMarkdownRendererUtilsDom.createElement)(tagName);\n        if (tagName.toLowerCase() === 'ol') {\n          for (var i = 0; i < items.length; i++) {\n            var li = items[i];\n            (0, _mobiledocMarkdownRendererUtilsDom.appendChild)(element, this.renderListItem(li, i + 1));\n          }\n        } else {\n          items.forEach(function (li) {\n            (0, _mobiledocMarkdownRendererUtilsDom.appendChild)(element, _this2.renderListItem(li));\n          });\n        }\n        return element;\n      }\n    }, {\n      key: 'renderListItem',\n      value: function renderListItem(markers) {\n        var position = arguments.length <= 1 || arguments[1] === undefined ? null : arguments[1];\n\n        var element = (0, _mobiledocMarkdownRendererUtilsDom.createElement)('li');\n        if (position !== null) {\n          (0, _mobiledocMarkdownRendererUtilsDom.setAttribute)(element, 'position', position);\n        }\n        this._renderMarkersOnElement(element, markers);\n        return element;\n      }\n    }, {\n      key: 'renderImageSection',\n      value: function renderImageSection(_ref4) {\n        var _ref42 = _slicedToArray(_ref4, 2);\n\n        var type = _ref42[0];\n        var url = _ref42[1];\n\n        var element = (0, _mobiledocMarkdownRendererUtilsDom.createElement)('img');\n        (0, _mobiledocMarkdownRendererUtilsDom.setAttribute)(element, 'src', url);\n        return element;\n      }\n    }, {\n      key: 'findCard',\n      value: function findCard(name) {\n        for (var i = 0; i < this.cards.length; i++) {\n          if (this.cards[i].name === name) {\n            return this.cards[i];\n          }\n        }\n        if (name === _mobiledocMarkdownRendererCardsImage['default'].name) {\n          return _mobiledocMarkdownRendererCardsImage['default'];\n        }\n        return this._createUnknownCard(name);\n      }\n    }, {\n      key: '_findCardByIndex',\n      value: function _findCardByIndex(index) {\n        var cardType = this.cardTypes[index];\n        if (!cardType) {\n          throw new Error('No card definition found at index ' + index);\n        }\n\n        var _cardType = _slicedToArray(cardType, 2);\n\n        var name = _cardType[0];\n        var payload = _cardType[1];\n\n        var card = this.findCard(name);\n\n        return {\n          card: card,\n          payload: payload\n        };\n      }\n    }, {\n      key: '_createUnknownCard',\n      value: function _createUnknownCard(name) {\n        return {\n          name: name,\n          type: _mobiledocMarkdownRendererUtilsRenderType['default'],\n          render: this.unknownCardHandler\n        };\n      }\n    }, {\n      key: 'renderCardSection',\n      value: function renderCardSection(_ref5) {\n        var _ref52 = _slicedToArray(_ref5, 2);\n\n        var type = _ref52[0];\n        var index = _ref52[1];\n\n        var _findCardByIndex2 = this._findCardByIndex(index);\n\n        var card = _findCardByIndex2.card;\n        var payload = _findCardByIndex2.payload;\n\n        var cardWrapper = this._createCardElement();\n        var cardArg = this._createCardArgument(card, payload);\n        var rendered = card.render(cardArg);\n\n        this._validateCardRender(rendered, card.name);\n\n        if (rendered) {\n          (0, _mobiledocMarkdownRendererUtilsDom.appendChild)(cardWrapper, rendered);\n        }\n\n        return cardWrapper;\n      }\n    }, {\n      key: '_registerTeardownCallback',\n      value: function _registerTeardownCallback(callback) {\n        this._teardownCallbacks.push(callback);\n      }\n    }, {\n      key: '_createCardArgument',\n      value: function _createCardArgument(card) {\n        var _this3 = this;\n\n        var payload = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];\n\n        var env = {\n          name: card.name,\n          isInEditor: false,\n          onTeardown: function onTeardown(callback) {\n            return _this3._registerTeardownCallback(callback);\n          }\n        };\n\n        var options = this.cardOptions;\n\n        return { env: env, options: options, payload: payload };\n      }\n    }, {\n      key: '_validateCardRender',\n      value: function _validateCardRender(rendered, cardName) {\n        if (!rendered) {\n          return;\n        }\n\n        if (typeof rendered !== 'string') {\n          throw new Error('Card \"' + cardName + '\" must render ' + _mobiledocMarkdownRendererUtilsRenderType['default'] + ', but result was ' + typeof rendered + '\"');\n        }\n      }\n    }, {\n      key: '_createCardElement',\n      value: function _createCardElement() {\n        return (0, _mobiledocMarkdownRendererUtilsDom.createElement)('div');\n      }\n    }, {\n      key: 'renderMarkupSection',\n      value: function renderMarkupSection(_ref6) {\n        var _ref62 = _slicedToArray(_ref6, 3);\n\n        var type = _ref62[0];\n        var tagName = _ref62[1];\n        var markers = _ref62[2];\n\n        if (!(0, _mobiledocMarkdownRendererUtilsTagNames.isValidSectionTagName)(tagName, _mobiledocMarkdownRendererUtilsSectionTypes.MARKUP_SECTION_TYPE)) {\n          return;\n        }\n        var renderer = _mobiledocMarkdownRendererUtilsDom.createElement;\n        var element = renderer(tagName);\n        this._renderMarkersOnElement(element, markers);\n        return element;\n      }\n    }, {\n      key: 'findAtom',\n      value: function findAtom(name) {\n        for (var i = 0; i < this.atoms.length; i++) {\n          if (this.atoms[i].name === name) {\n            return this.atoms[i];\n          }\n        }\n        return this._createUnknownAtom(name);\n      }\n    }, {\n      key: '_createUnknownAtom',\n      value: function _createUnknownAtom(name) {\n        return {\n          name: name,\n          type: _mobiledocMarkdownRendererUtilsRenderType['default'],\n          render: this.unknownAtomHandler\n        };\n      }\n    }, {\n      key: '_createAtomArgument',\n      value: function _createAtomArgument(atom, value, payload) {\n        var _this4 = this;\n\n        var env = {\n          name: atom.name,\n          onTeardown: function onTeardown(callback) {\n            return _this4._registerTeardownCallback(callback);\n          }\n        };\n\n        var options = this.cardOptions;\n\n        return { env: env, options: options, value: value, payload: payload };\n      }\n    }, {\n      key: '_validateAtomRender',\n      value: function _validateAtomRender(rendered, atomName) {\n        if (!rendered) {\n          return;\n        }\n\n        if (typeof rendered !== 'string') {\n          throw new Error('Atom \"' + atomName + '\" must render ' + _mobiledocMarkdownRendererUtilsRenderType['default'] + ', but result was ' + typeof rendered + '\"');\n        }\n      }\n    }, {\n      key: '_findAtomByIndex',\n      value: function _findAtomByIndex(index) {\n        var atomType = this.atomTypes[index];\n        if (!atomType) {\n          throw new Error('No atom definition found at index ' + index);\n        }\n\n        var _atomType = _slicedToArray(atomType, 3);\n\n        var name = _atomType[0];\n        var value = _atomType[1];\n        var payload = _atomType[2];\n\n        var atom = this.findAtom(name);\n\n        return {\n          atom: atom,\n          value: value,\n          payload: payload\n        };\n      }\n    }, {\n      key: '_renderAtom',\n      value: function _renderAtom(index) {\n        var _findAtomByIndex2 = this._findAtomByIndex(index);\n\n        var atom = _findAtomByIndex2.atom;\n        var value = _findAtomByIndex2.value;\n        var payload = _findAtomByIndex2.payload;\n\n        var atomArg = this._createAtomArgument(atom, value, payload);\n        var rendered = atom.render(atomArg);\n\n        this._validateAtomRender(rendered, atom.name);\n\n        return rendered || (0, _mobiledocMarkdownRendererUtilsDom.createTextNode)('');\n      }\n    }, {\n      key: '_renderMarkersOnElement',\n      value: function _renderMarkersOnElement(element, markers) {\n        var elements = [element];\n        var currentElement = element;\n\n        for (var i = 0, l = markers.length; i < l; i++) {\n          var marker = markers[i];\n\n          var _marker = _slicedToArray(marker, 4);\n\n          var type = _marker[0];\n          var openTypes = _marker[1];\n          var closeCount = _marker[2];\n          var value = _marker[3];\n\n          for (var j = 0, m = openTypes.length; j < m; j++) {\n            var markerType = this.markerTypes[openTypes[j]];\n\n            var _markerType = _slicedToArray(markerType, 1);\n\n            var tagName = _markerType[0];\n\n            if ((0, _mobiledocMarkdownRendererUtilsTagNames.isValidMarkerType)(tagName)) {\n              var openedElement = createElementFromMarkerType(markerType);\n              (0, _mobiledocMarkdownRendererUtilsDom.appendChild)(currentElement, openedElement);\n              elements.push(openedElement);\n              currentElement = openedElement;\n            } else {\n              closeCount--;\n            }\n          }\n\n          switch (type) {\n            case _mobiledocMarkdownRendererUtilsMarkerTypes.MARKUP_MARKER_TYPE:\n              (0, _mobiledocMarkdownRendererUtilsDom.appendChild)(currentElement, (0, _mobiledocMarkdownRendererUtilsDom.createTextNode)(value));\n              break;\n            case _mobiledocMarkdownRendererUtilsMarkerTypes.ATOM_MARKER_TYPE:\n              (0, _mobiledocMarkdownRendererUtilsDom.appendChild)(currentElement, this._renderAtom(value));\n              break;\n            default:\n              throw new Error('Unknown markup type (' + type + ')');\n          }\n\n          for (var j = 0, m = closeCount; j < m; j++) {\n            elements.pop();\n            currentElement = elements[elements.length - 1];\n          }\n        }\n      }\n    }, {\n      key: '_defaultUnknownCardHandler',\n      get: function get() {\n        return function (_ref7) {\n          var name = _ref7.env.name;\n\n          throw new Error('Card \"' + name + '\" not found but no unknownCardHandler was registered');\n        };\n      }\n    }, {\n      key: '_defaultUnknownAtomHandler',\n      get: function get() {\n        return function (_ref8) {\n          var name = _ref8.env.name;\n\n          throw new Error('Atom \"' + name + '\" not found but no unknownAtomHandler was registered');\n        };\n      }\n    }]);\n\n    return Renderer;\n  })();\n\n  exports['default'] = Renderer;\n});","define('mobiledoc-markdown-renderer/utils/dom', ['exports'], function (exports) {\n  'use strict';\n\n  var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n  exports.createElement = createElement;\n  exports.appendChild = appendChild;\n  exports.createTextNode = createTextNode;\n  exports.setAttribute = setAttribute;\n  exports.createDocumentFragment = createDocumentFragment;\n  exports.normalizeTagName = normalizeTagName;\n\n  function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\n  var Element = (function () {\n    function Element(tagName) {\n      _classCallCheck(this, Element);\n\n      this.tagName = tagName.toLowerCase();\n      this.childNodes = [];\n      this.attributes = [];\n    }\n\n    _createClass(Element, [{\n      key: 'appendChild',\n      value: function appendChild(element) {\n        this.childNodes.push(element);\n      }\n    }, {\n      key: 'setAttribute',\n      value: function setAttribute(propName, propValue) {\n        this.attributes.push(propName, propValue);\n      }\n    }, {\n      key: 'toString',\n      value: function toString() {\n\n        var markdown = '';\n\n        // opening tags\n        switch (this.tagName.toLowerCase()) {\n          case 'b':\n          case 'strong':\n            markdown += '**';\n            break;\n          case 'i':\n          case 'em':\n            markdown += '*';\n            break;\n          case 's':\n            markdown += '~~';\n            break;\n          case 'h1':\n            markdown += '# ';\n            break;\n          case 'h2':\n            markdown += '## ';\n            break;\n          case 'h3':\n            markdown += '### ';\n            break;\n          case 'h4':\n            markdown += '#### ';\n            break;\n          case 'a':\n            markdown += '[';\n            break;\n          case 'img':\n            markdown += '![';\n            break;\n          case 'li':\n            if (this.attributes.indexOf('position') !== -1) {\n              var positionIndex = this.attributes.indexOf('position') + 1;\n              var position = this.attributes[positionIndex];\n              markdown += position + '. ';\n            } else {\n              markdown += '* ';\n            }\n            break;\n          case 'blockquote':\n            markdown += '> ';\n            break;\n        }\n\n        // child nodes\n        for (var i = 0; i < this.childNodes.length; i++) {\n          markdown += this.childNodes[i].toString();\n        }\n\n        // closing tags\n        switch (this.tagName.toLowerCase()) {\n          case 'b':\n          case 'strong':\n            markdown += '**';\n            break;\n          case 'i':\n          case 'em':\n            markdown += '*';\n            break;\n          case 's':\n            markdown += '~~';\n            break;\n          case 'a':\n            markdown += ']';\n            if (this.attributes.indexOf('href') !== -1) {\n              var urlIndex = this.attributes.indexOf('href') + 1;\n              markdown += '(' + this.attributes[urlIndex] + ')';\n            }\n            break;\n          case 'img':\n            markdown += ']';\n            if (this.attributes.indexOf('src') !== -1) {\n              var srcIndex = this.attributes.indexOf('src') + 1;\n              markdown += '(' + this.attributes[srcIndex] + ')';\n            }\n            break;\n          case 'li':\n            markdown += '\\n';\n            break;\n          case 'h1':\n          case 'h2':\n          case 'h3':\n          case 'h4':\n          case 'p':\n          case 'blockquote':\n            markdown += '\\n\\n';\n            break;\n        }\n\n        return markdown;\n      }\n    }]);\n\n    return Element;\n  })();\n\n  var TextNode = (function () {\n    function TextNode(value) {\n      _classCallCheck(this, TextNode);\n\n      this.value = value;\n    }\n\n    _createClass(TextNode, [{\n      key: 'toString',\n      value: function toString() {\n        return this.value;\n      }\n    }]);\n\n    return TextNode;\n  })();\n\n  function createElement(tagName) {\n    return new Element(tagName);\n  }\n\n  function appendChild(target, child) {\n    target.appendChild(child);\n  }\n\n  function createTextNode(text) {\n    return new TextNode(text);\n  }\n\n  function setAttribute(element, propName, propValue) {\n    element.setAttribute(propName, propValue);\n  }\n\n  function createDocumentFragment() {\n    return createElement('div');\n  }\n\n  function normalizeTagName(name) {\n    return name.toLowerCase();\n  }\n});","define(\"mobiledoc-markdown-renderer/utils/marker-types\", [\"exports\"], function (exports) {\n  \"use strict\";\n\n  var MARKUP_MARKER_TYPE = 0;\n  exports.MARKUP_MARKER_TYPE = MARKUP_MARKER_TYPE;\n  var ATOM_MARKER_TYPE = 1;\n  exports.ATOM_MARKER_TYPE = ATOM_MARKER_TYPE;\n});","define('mobiledoc-markdown-renderer/utils/render-type', ['exports'], function (exports) {\n  'use strict';\n\n  exports['default'] = 'markdown';\n});","define(\"mobiledoc-markdown-renderer/utils/section-types\", [\"exports\"], function (exports) {\n  \"use strict\";\n\n  var MARKUP_SECTION_TYPE = 1;\n  exports.MARKUP_SECTION_TYPE = MARKUP_SECTION_TYPE;\n  var IMAGE_SECTION_TYPE = 2;\n  exports.IMAGE_SECTION_TYPE = IMAGE_SECTION_TYPE;\n  var LIST_SECTION_TYPE = 3;\n  exports.LIST_SECTION_TYPE = LIST_SECTION_TYPE;\n  var CARD_SECTION_TYPE = 10;\n  exports.CARD_SECTION_TYPE = CARD_SECTION_TYPE;\n});","define('mobiledoc-markdown-renderer/utils/tag-names', ['exports', 'mobiledoc-markdown-renderer/utils/section-types', 'mobiledoc-markdown-renderer/utils/dom'], function (exports, _mobiledocMarkdownRendererUtilsSectionTypes, _mobiledocMarkdownRendererUtilsDom) {\n  'use strict';\n\n  exports.isValidSectionTagName = isValidSectionTagName;\n  exports.isValidMarkerType = isValidMarkerType;\n\n  var MARKUP_SECTION_TAG_NAMES = ['p', 'h1', 'h2', 'h3', 'blockquote', 'pull-quote'].map(_mobiledocMarkdownRendererUtilsDom.normalizeTagName);\n\n  var LIST_SECTION_TAG_NAMES = ['ul', 'ol'].map(_mobiledocMarkdownRendererUtilsDom.normalizeTagName);\n\n  var MARKUP_TYPES = ['b', 'i', 'strong', 'em', 'a', 'u', 'sub', 'sup', 's'].map(_mobiledocMarkdownRendererUtilsDom.normalizeTagName);\n\n  function contains(array, item) {\n    return array.indexOf(item) !== -1;\n  }\n\n  function isValidSectionTagName(tagName, sectionType) {\n    tagName = (0, _mobiledocMarkdownRendererUtilsDom.normalizeTagName)(tagName);\n\n    switch (sectionType) {\n      case _mobiledocMarkdownRendererUtilsSectionTypes.MARKUP_SECTION_TYPE:\n        return contains(MARKUP_SECTION_TAG_NAMES, tagName);\n      case _mobiledocMarkdownRendererUtilsSectionTypes.LIST_SECTION_TYPE:\n        return contains(LIST_SECTION_TAG_NAMES, tagName);\n      default:\n        throw new Error('Cannot validate tagName for unknown section type \"' + sectionType + '\"');\n    }\n  }\n\n  function isValidMarkerType(type) {\n    type = (0, _mobiledocMarkdownRendererUtilsDom.normalizeTagName)(type);\n    return contains(MARKUP_TYPES, type);\n  }\n});"],"names":[],"mappings":";AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACzNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACfA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACVA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACvFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AClUA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACncA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC/KA;AACA;AACA;AACA;AACA;AACA;AACA;;ACNA;AACA;AACA;AACA;;ACHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACVA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;","file":"mobiledoc-markdown-renderer.js"}